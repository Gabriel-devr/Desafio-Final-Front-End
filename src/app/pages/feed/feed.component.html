<div class="background">
    <div class="container">
        <div class="row">

            <div class="col-lg-3">
                <div class="card p-4 text-center">
                    <div class="avatar-circle mb-3">RA</div>
                    <h5 class="fw-bold mb-1">Rondineli Andrade</h5>
                    <p class="text-muted small">Membro desde 2024</p>
                </div>

                <div class="card p-4 bg-primary-custom">
                    <div class="d-flex align-items-center gap-2 mb-2">
                        <span class="material-symbols-outlined" style="font-size: 20px;">stars</span>
                        <span class="fw-bold">Frase do Dia</span>
                    </div>
                    <p class="fst-italic mb-0 small">
                        "Respeite seu ritmo. Cada pequeno passo é uma vitória."
                    </p>
                </div>

                <div class="card p-4">
                    <h6 class="mb-3 text-muted" style="font-weight: bold;">Sua Atividade</h6>
                    <div class="stats-row">
                        <span class="stats-label">Posts</span>
                        <span class="stats-value">12</span>
                    </div>
                    <div class="stats-row">
                        <span class="stats-label">Conexões</span>
                        <span class="stats-value">48</span>
                    </div>
                    <div class="stats-row">
                        <span class="stats-label">Curtidas</span>
                        <span class="stats-value">156</span>
                    </div>
                </div>
            </div>

            <div class="col-lg-9">

                <div class="card p-3">
                    <div class="d-flex gap-3 align-items-center">
                        <input type="text" class="form-control rounded-pill bg-light border-0 py-2"
                            placeholder="Como você está se sentindo hoje?" [(ngModel)]="novoPostTexto"
                            (keyup.enter)="publicar()">
                        <button class="btn btn-primary-custom" (click)="publicar()">Publicar</button>
                    </div>
                </div>

                @for (post of posts; track $index) {
                <div class="card p-3">
                    <div class="d-flex justify-content-between mb-2">
                        <div class="d-flex gap-2">
                            <div class="avatar-small text-white"
                                [ngClass]="post.avatarCor.startsWith('bg-') ? post.avatarCor : ''"
                                [style.background-color]="!post.avatarCor.startsWith('bg-') ? post.avatarCor : ''">
                                {{ post.avatar }}
                            </div>
                            <div>
                                <h6 class="mb-0 fw-bold">{{ post.autor }}</h6>
                                <small class="text-muted" style="font-size: 0.75rem;">{{ post.tempo }}</small>
                            </div>
                        </div>
                    </div>

                    <p class="card-text mb-3">{{ post.conteudo }}</p>

                    <div class="actions-container">

                        <button class="action-btn" (click)="curtir(post)" [class.liked]="post.liked">
                            <span class="material-symbols-outlined icon-adjust">
                                {{ post.liked ? 'favorite' : 'favorite_border' }}
                            </span>
                            <span>{{ post.likes }}</span>
                        </button>

                        <button class="action-btn" (click)="compartilhar(post)">
                            <span class="material-symbols-outlined icon-adjust">
                                share
                            </span>
                            <span>Compartilhar</span>
                        </button>

                    </div>
                </div>
                } @empty {
                <p class="text-center text-muted mt-4">Nenhuma publicação ainda.</p>
                }

            </div>
        </div>
    </div>
</div>